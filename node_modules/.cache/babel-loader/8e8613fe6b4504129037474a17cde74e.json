{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/thusk/Documents/CP/Senior Project/frontend/src/Dashboard.jsx\";\n// import React , { useState, useEffect, Component } from 'react';\n// import axios from 'axios';\n// import './Dashboard.css'\n// // function getSegmentImage(){\n// // }\n// function Dashboard(){\n//     const [image, setImage] = useState(null);\n//     const [file, setFile] = useState(null);\n//     function onSegmentation(img){\n//         const formData = new FormData();\n//         formData.append(\"data\", img);\n//         fetch(\"http://localhost:8080/predict_food\", {\n//           method: \"POST\",\n//           data: formData,\n//           headers: {\n//               'Content-Type': 'multipart/form-data',\n//           }\n//         });\n//         // .then(res => console.log(res))\n//         // axios.get('http://localhost:8000')\n//         // fetch('http://localhost:8000/api', {\n//         //     method: 'POST',\n//         //     body: formData,\n//         // })\n//     }\n//     function _handleImageChange(e) {\n//         console.log('haha')\n//         e.preventDefault();\n//         let reader = new FileReader();\n//         let file = e.target.files[0];\n//         reader.onloadend = () => {\n//         setImage(reader.result)\n//         setFile(file)\n//         console.log(file)\n//         }\n//         reader.readAsDataURL(file)\n//     }\n//     return (\n//                 <div className=\"previewComponent\">\n//                     <input className=\"fileInput\" \n//                       type=\"file\" \n//                       onChange={(e)=>_handleImageChange(e)} />\n//                     <button \n//                     //   type=\"submit\" \n//                       onClick={()=>onSegmentation(file)}\n//                       >Upload Image</button>\n//                   <div className=\"imgPreview\">\n//                   <img src={image} />\n//                   </div>\n//                 </div>\n//               )\n// }\n// export default Dashboard\nimport React from 'react';\n\nclass Main extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      imageURL: '',\n      responseImgae: null\n    };\n    this.handleUploadImage = this.handleUploadImage.bind(this);\n  }\n\n  handleUploadImage(ev) {\n    ev.preventDefault();\n    const data = new FormData();\n    data.append('file', this.uploadInput.files[0]);\n    data.append('filename', this.fileName.value);\n    fetch('http://localhost:8080/upload', {\n      method: 'POST',\n      body: data\n    }).then(response => {\n      console.log(response);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: this.handleUploadImage,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: ref => {\n            this.uploadInput = ref;\n          },\n          type: \"file\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: ref => {\n            this.fileName = ref;\n          },\n          type: \"text\",\n          placeholder: \"Enter the desired name of file\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: this.state.imageURL,\n        alt: \"img\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Main;","map":{"version":3,"sources":["/Users/thusk/Documents/CP/Senior Project/frontend/src/Dashboard.jsx"],"names":["React","Main","Component","constructor","props","state","imageURL","responseImgae","handleUploadImage","bind","ev","preventDefault","data","FormData","append","uploadInput","files","fileName","value","fetch","method","body","then","response","console","log","render","ref"],"mappings":";;AAAA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,IAAN,SAAmBD,KAAK,CAACE,SAAzB,CAAmC;AACjCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE,EADC;AAEXC,MAAAA,aAAa,EAAE;AAFJ,KAAb;AAKA,SAAKC,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAAzB;AACD;;AAEDD,EAAAA,iBAAiB,CAACE,EAAD,EAAK;AACpBA,IAAAA,EAAE,CAACC,cAAH;AACA,UAAMC,IAAI,GAAG,IAAIC,QAAJ,EAAb;AACAD,IAAAA,IAAI,CAACE,MAAL,CAAY,MAAZ,EAAoB,KAAKC,WAAL,CAAiBC,KAAjB,CAAuB,CAAvB,CAApB;AACAJ,IAAAA,IAAI,CAACE,MAAL,CAAY,UAAZ,EAAwB,KAAKG,QAAL,CAAcC,KAAtC;AAEAC,IAAAA,KAAK,CAAC,8BAAD,EAAiC;AACpCC,MAAAA,MAAM,EAAE,MAD4B;AAEpCC,MAAAA,IAAI,EAAET;AAF8B,KAAjC,CAAL,CAGGU,IAHH,CAGSC,QAAD,IAAc;AACpBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACD,KALD;AAMD;;AAEDG,EAAAA,MAAM,GAAG;AACP,wBACE;AAAM,MAAA,QAAQ,EAAE,KAAKlB,iBAArB;AAAA,8BACE;AAAA,+BACE;AAAO,UAAA,GAAG,EAAGmB,GAAD,IAAS;AAAE,iBAAKZ,WAAL,GAAmBY,GAAnB;AAAyB,WAAhD;AAAkD,UAAA,IAAI,EAAC;AAAvD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAIE;AAAA,+BACE;AAAO,UAAA,GAAG,EAAGA,GAAD,IAAS;AAAE,iBAAKV,QAAL,GAAgBU,GAAhB;AAAsB,WAA7C;AAA+C,UAAA,IAAI,EAAC,MAApD;AAA2D,UAAA,WAAW,EAAC;AAAvE;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAJF,eAOE;AAAA;AAAA;AAAA;AAAA,cAPF,eAQE;AAAA,+BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cARF,eAWE;AAAK,QAAA,GAAG,EAAE,KAAKtB,KAAL,CAAWC,QAArB;AAA+B,QAAA,GAAG,EAAC;AAAnC;AAAA;AAAA;AAAA;AAAA,cAXF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAeD;;AA1CgC;;AA6CnC,eAAeL,IAAf","sourcesContent":["// import React , { useState, useEffect, Component } from 'react';\n// import axios from 'axios';\n// import './Dashboard.css'\n\n// // function getSegmentImage(){\n\n// // }\n\n// function Dashboard(){\n\n//     const [image, setImage] = useState(null);\n//     const [file, setFile] = useState(null);\n    \n//     function onSegmentation(img){\n        \n//         const formData = new FormData();\n\n//         formData.append(\"data\", img);\n\n//         fetch(\"http://localhost:8080/predict_food\", {\n//           method: \"POST\",\n//           data: formData,\n//           headers: {\n//               'Content-Type': 'multipart/form-data',\n//           }\n//         });\n//         // .then(res => console.log(res))\n//         // axios.get('http://localhost:8000')\n\n//         // fetch('http://localhost:8000/api', {\n//         //     method: 'POST',\n//         //     body: formData,\n//         // })\n//     }\n\n//     function _handleImageChange(e) {\n//         console.log('haha')\n//         e.preventDefault();\n    \n//         let reader = new FileReader();\n//         let file = e.target.files[0];\n    \n//         reader.onloadend = () => {\n//         setImage(reader.result)\n//         setFile(file)\n//         console.log(file)\n//         }\n    \n//         reader.readAsDataURL(file)\n//     }\n\n//     return (\n//                 <div className=\"previewComponent\">\n//                     <input className=\"fileInput\" \n//                       type=\"file\" \n//                       onChange={(e)=>_handleImageChange(e)} />\n//                     <button \n//                     //   type=\"submit\" \n//                       onClick={()=>onSegmentation(file)}\n//                       >Upload Image</button>\n//                   <div className=\"imgPreview\">\n//                   <img src={image} />\n//                   </div>\n//                 </div>\n//               )\n// }\n    \n// export default Dashboard\n\nimport React from 'react';\n\nclass Main extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      imageURL: '',\n      responseImgae: null,\n    };\n\n    this.handleUploadImage = this.handleUploadImage.bind(this);\n  }\n\n  handleUploadImage(ev) {\n    ev.preventDefault();\n    const data = new FormData();\n    data.append('file', this.uploadInput.files[0]);\n    data.append('filename', this.fileName.value);\n\n    fetch('http://localhost:8080/upload', {\n      method: 'POST',\n      body: data,\n    }).then((response) => {\n      console.log(response)\n    });\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleUploadImage}>\n        <div>\n          <input ref={(ref) => { this.uploadInput = ref; }} type=\"file\" />\n        </div>\n        <div>\n          <input ref={(ref) => { this.fileName = ref; }} type=\"text\" placeholder=\"Enter the desired name of file\" />\n        </div>\n        <br />\n        <div>\n          <button>Upload</button>\n        </div>\n        <img src={this.state.imageURL} alt=\"img\" />\n      </form>\n    );\n  }\n}\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}